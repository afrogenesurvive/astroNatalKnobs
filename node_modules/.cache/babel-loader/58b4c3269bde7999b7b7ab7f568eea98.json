{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/pedrojacob/Downloads/AMR/websites/astroNatalKnobs/frontend/src/components/knob2.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { NavLink } from 'react-router-dom';\nimport Button from 'react-bootstrap/Button';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Image from 'react-bootstrap/Image';\nimport Container from 'react-bootstrap/Container';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport '../App.css';\nimport './knob1n2.css';\nimport logo from \"../logo.svg\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCaretUp, faCaretDown, faCaretLeft, faCaretRight, faTimesCircle, faCompass, faCode, faCodeBranch, faArchive, faExternalLinkAlt, faEllipsisH } from '@fortawesome/free-solid-svg-icons';\n\nclass Knob2 extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n\n    this.startDrag = e => {\n      e.preventDefault();\n      const knob = e.target.getBoundingClientRect();\n      const pts = {\n        x: knob.left + knob.width / 2,\n        y: knob.top + knob.height / 2\n      };\n\n      const moveHandler = e => {\n        this.currentDeg = this.getDeg(e.clientX, e.clientY, pts);\n        if (this.currentDeg === this.startAngle) this.currentDeg--;\n        let newValue = Math.floor(this.convertRange(this.startAngle, this.endAngle, this.props.min, this.props.max, this.currentDeg));\n        this.setState({\n          deg: this.currentDeg\n        });\n        this.props.onChange(newValue);\n      };\n\n      document.addEventListener(\"mousemove\", moveHandler);\n      document.addEventListener(\"mouseup\", e => {\n        document.removeEventListener(\"mousemove\", moveHandler);\n      });\n    };\n\n    this.getDeg = (cX, cY, pts) => {\n      const x = cX - pts.x;\n      const y = cY - pts.y;\n      let deg = Math.atan(y / x) * 180 / Math.PI;\n\n      if (x < 0 && y >= 0 || x < 0 && y < 0) {\n        deg += 90;\n      } else {\n        deg += 270;\n      }\n\n      let finalDeg = Math.min(Math.max(this.startAngle, deg), this.endAngle);\n      console.log('foo', finalDeg);\n      return finalDeg;\n    };\n\n    this.convertRange = (oldMin, oldMax, newMin, newMax, oldValue) => {\n      return (oldValue - oldMin) * (newMax - newMin) / (oldMax - oldMin) + newMin;\n    };\n\n    this.renderTicks = () => {\n      let ticks = [];\n      const incr = this.fullAngle / this.props.numTicks;\n      const size = this.margin + this.props.size / 2;\n\n      for (let deg = this.startAngle; deg <= this.endAngle; deg += incr) {\n        const tick = {\n          deg: deg,\n          tickStyle: {\n            height: size + 10,\n            left: size - 1,\n            top: size + 2,\n            transform: \"rotate(\" + deg + \"deg)\",\n            transformOrigin: \"top\"\n          }\n        };\n        ticks.push(tick);\n      }\n\n      return ticks;\n    };\n\n    this.dcpy = o => {\n      return JSON.parse(JSON.stringify(o));\n    };\n\n    this.fullAngle = props.degrees;\n    this.startAngle = (360 - props.degrees) / 2;\n    this.endAngle = this.startAngle + props.degrees;\n    this.margin = props.size * 0.15;\n    this.currentDeg = Math.floor(this.convertRange(props.min, props.max, this.startAngle, this.endAngle, props.value));\n    this.state = {\n      deg: this.currentDeg\n    };\n  }\n\n  componentDidUpdate() {}\n\n  componentDidMount() {}\n\n  componentWillUnmount() {}\n\n  render() {\n    let kStyle = {\n      width: this.props.size,\n      height: this.props.size\n    };\n    let iStyle = this.dcpy(kStyle);\n    let oStyle = this.dcpy(kStyle);\n    oStyle.margin = this.margin;\n\n    if (this.props.color) {\n      oStyle.backgroundImage = \"radial-gradient(100% 70%,hsl(210, \" + this.currentDeg + \"%, \" + this.currentDeg / 5 + \"%),hsl(\" + Math.random() * 100 + \",20%,\" + this.currentDeg / 36 + \"%))\";\n    }\n\n    iStyle.transform = \"rotate(\" + this.state.deg + \"deg)\";\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"KnobBoxTop\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          className: \"App-logo\",\n          alt: \"logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Edit \", /*#__PURE__*/_jsxDEV(\"code\", {\n            children: \"src/App.js\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 16\n          }, this), \" and save to reload.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"App-link\",\n          href: \"https://reactjs.org\",\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: \"Learn Reacttttt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Knob2;","map":{"version":3,"sources":["/Users/pedrojacob/Downloads/AMR/websites/astroNatalKnobs/frontend/src/components/knob2.js"],"names":["React","Component","Link","NavLink","Button","Row","Col","Image","Container","ListGroup","FontAwesomeIcon","faCaretUp","faCaretDown","faCaretLeft","faCaretRight","faTimesCircle","faCompass","faCode","faCodeBranch","faArchive","faExternalLinkAlt","faEllipsisH","Knob2","constructor","props","state","startDrag","e","preventDefault","knob","target","getBoundingClientRect","pts","x","left","width","y","top","height","moveHandler","currentDeg","getDeg","clientX","clientY","startAngle","newValue","Math","floor","convertRange","endAngle","min","max","setState","deg","onChange","document","addEventListener","removeEventListener","cX","cY","atan","PI","finalDeg","console","log","oldMin","oldMax","newMin","newMax","oldValue","renderTicks","ticks","incr","fullAngle","numTicks","size","margin","tick","tickStyle","transform","transformOrigin","push","dcpy","o","JSON","parse","stringify","degrees","value","componentDidUpdate","componentDidMount","componentWillUnmount","render","kStyle","iStyle","oStyle","color","backgroundImage","random","logo"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,SAAP,MAAsB,2BAAtB;AACA,OAAOC,SAAP,MAAsB,2BAAtB;AACA,OAAO,YAAP;AACA,OAAO,eAAP;;AAGA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SACEC,SADF,EAEEC,WAFF,EAGEC,WAHF,EAIEC,YAJF,EAKEC,aALF,EAMEC,SANF,EAOEC,MAPF,EAQEC,YARF,EASEC,SATF,EAUEC,iBAVF,EAWEC,WAXF,QAYO,mCAZP;;AAeA,MAAMC,KAAN,SAAoBrB,SAApB,CAA8B;AAM5BsB,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AADiB,SAJnBC,KAImB,GAJX,EAIW;;AAAA,SA8BnBC,SA9BmB,GA8BPC,CAAC,IAAI;AACfA,MAAAA,CAAC,CAACC,cAAF;AACA,YAAMC,IAAI,GAAGF,CAAC,CAACG,MAAF,CAASC,qBAAT,EAAb;AACA,YAAMC,GAAG,GAAG;AACVC,QAAAA,CAAC,EAAEJ,IAAI,CAACK,IAAL,GAAYL,IAAI,CAACM,KAAL,GAAa,CADlB;AAEVC,QAAAA,CAAC,EAAEP,IAAI,CAACQ,GAAL,GAAWR,IAAI,CAACS,MAAL,GAAc;AAFlB,OAAZ;;AAIA,YAAMC,WAAW,GAAGZ,CAAC,IAAI;AACvB,aAAKa,UAAL,GAAkB,KAAKC,MAAL,CAAYd,CAAC,CAACe,OAAd,EAAuBf,CAAC,CAACgB,OAAzB,EAAkCX,GAAlC,CAAlB;AACA,YAAI,KAAKQ,UAAL,KAAoB,KAAKI,UAA7B,EAAyC,KAAKJ,UAAL;AACzC,YAAIK,QAAQ,GAAGC,IAAI,CAACC,KAAL,CACb,KAAKC,YAAL,CACE,KAAKJ,UADP,EAEE,KAAKK,QAFP,EAGE,KAAKzB,KAAL,CAAW0B,GAHb,EAIE,KAAK1B,KAAL,CAAW2B,GAJb,EAKE,KAAKX,UALP,CADa,CAAf;AASA,aAAKY,QAAL,CAAc;AAAEC,UAAAA,GAAG,EAAE,KAAKb;AAAZ,SAAd;AACA,aAAKhB,KAAL,CAAW8B,QAAX,CAAoBT,QAApB;AACD,OAdD;;AAeAU,MAAAA,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuCjB,WAAvC;AACAgB,MAAAA,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqC7B,CAAC,IAAI;AACxC4B,QAAAA,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,EAA0ClB,WAA1C;AACD,OAFD;AAGD,KAxDkB;;AAAA,SA0DnBE,MA1DmB,GA0DV,CAACiB,EAAD,EAAKC,EAAL,EAAS3B,GAAT,KAAiB;AACxB,YAAMC,CAAC,GAAGyB,EAAE,GAAG1B,GAAG,CAACC,CAAnB;AACA,YAAMG,CAAC,GAAGuB,EAAE,GAAG3B,GAAG,CAACI,CAAnB;AACA,UAAIiB,GAAG,GAAGP,IAAI,CAACc,IAAL,CAAUxB,CAAC,GAAGH,CAAd,IAAmB,GAAnB,GAAyBa,IAAI,CAACe,EAAxC;;AACA,UAAK5B,CAAC,GAAG,CAAJ,IAASG,CAAC,IAAI,CAAf,IAAsBH,CAAC,GAAG,CAAJ,IAASG,CAAC,GAAG,CAAvC,EAA2C;AACzCiB,QAAAA,GAAG,IAAI,EAAP;AACD,OAFD,MAEO;AACLA,QAAAA,GAAG,IAAI,GAAP;AACD;;AACD,UAAIS,QAAQ,GAAGhB,IAAI,CAACI,GAAL,CAASJ,IAAI,CAACK,GAAL,CAAS,KAAKP,UAAd,EAA0BS,GAA1B,CAAT,EAAyC,KAAKJ,QAA9C,CAAf;AACAc,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAkBF,QAAlB;AACA,aAAOA,QAAP;AACD,KAtEkB;;AAAA,SAwEnBd,YAxEmB,GAwEJ,CAACiB,MAAD,EAASC,MAAT,EAAiBC,MAAjB,EAAyBC,MAAzB,EAAiCC,QAAjC,KAA8C;AAC3D,aAAO,CAACA,QAAQ,GAAGJ,MAAZ,KAAuBG,MAAM,GAAGD,MAAhC,KAA2CD,MAAM,GAAGD,MAApD,IAA8DE,MAArE;AACD,KA1EkB;;AAAA,SA4EnBG,WA5EmB,GA4EL,MAAM;AAClB,UAAIC,KAAK,GAAG,EAAZ;AACA,YAAMC,IAAI,GAAG,KAAKC,SAAL,GAAiB,KAAKjD,KAAL,CAAWkD,QAAzC;AACA,YAAMC,IAAI,GAAG,KAAKC,MAAL,GAAc,KAAKpD,KAAL,CAAWmD,IAAX,GAAkB,CAA7C;;AACA,WAAK,IAAItB,GAAG,GAAG,KAAKT,UAApB,EAAgCS,GAAG,IAAI,KAAKJ,QAA5C,EAAsDI,GAAG,IAAImB,IAA7D,EAAmE;AACjE,cAAMK,IAAI,GAAG;AACXxB,UAAAA,GAAG,EAAEA,GADM;AAEXyB,UAAAA,SAAS,EAAE;AACTxC,YAAAA,MAAM,EAAEqC,IAAI,GAAG,EADN;AAETzC,YAAAA,IAAI,EAAEyC,IAAI,GAAG,CAFJ;AAGTtC,YAAAA,GAAG,EAAEsC,IAAI,GAAG,CAHH;AAITI,YAAAA,SAAS,EAAE,YAAY1B,GAAZ,GAAkB,MAJpB;AAKT2B,YAAAA,eAAe,EAAE;AALR;AAFA,SAAb;AAUAT,QAAAA,KAAK,CAACU,IAAN,CAAWJ,IAAX;AACD;;AACD,aAAON,KAAP;AACD,KA9FkB;;AAAA,SAgGnBW,IAhGmB,GAgGZC,CAAC,IAAI;AACV,aAAOC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeH,CAAf,CAAX,CAAP;AACD,KAlGkB;;AAGjB,SAAKV,SAAL,GAAiBjD,KAAK,CAAC+D,OAAvB;AACA,SAAK3C,UAAL,GAAkB,CAAC,MAAMpB,KAAK,CAAC+D,OAAb,IAAwB,CAA1C;AACA,SAAKtC,QAAL,GAAgB,KAAKL,UAAL,GAAkBpB,KAAK,CAAC+D,OAAxC;AACA,SAAKX,MAAL,GAAcpD,KAAK,CAACmD,IAAN,GAAa,IAA3B;AACA,SAAKnC,UAAL,GAAkBM,IAAI,CAACC,KAAL,CAChB,KAAKC,YAAL,CACExB,KAAK,CAAC0B,GADR,EAEE1B,KAAK,CAAC2B,GAFR,EAGE,KAAKP,UAHP,EAIE,KAAKK,QAJP,EAKEzB,KAAK,CAACgE,KALR,CADgB,CAAlB;AASA,SAAK/D,KAAL,GAAa;AAAE4B,MAAAA,GAAG,EAAE,KAAKb;AAAZ,KAAb;AACD;;AAEDiD,EAAAA,kBAAkB,GAAG,CACpB;;AAEDC,EAAAA,iBAAiB,GAAG,CAEnB;;AAEDC,EAAAA,oBAAoB,GAAG,CAEtB;;AAwEDC,EAAAA,MAAM,GAAG;AAEP,QAAIC,MAAM,GAAG;AACX1D,MAAAA,KAAK,EAAE,KAAKX,KAAL,CAAWmD,IADP;AAEXrC,MAAAA,MAAM,EAAE,KAAKd,KAAL,CAAWmD;AAFR,KAAb;AAIA,QAAImB,MAAM,GAAG,KAAKZ,IAAL,CAAUW,MAAV,CAAb;AACA,QAAIE,MAAM,GAAG,KAAKb,IAAL,CAAUW,MAAV,CAAb;AACAE,IAAAA,MAAM,CAACnB,MAAP,GAAgB,KAAKA,MAArB;;AACA,QAAI,KAAKpD,KAAL,CAAWwE,KAAf,EAAsB;AACpBD,MAAAA,MAAM,CAACE,eAAP,GACE,uCACA,KAAKzD,UADL,GAEA,KAFA,GAGA,KAAKA,UAAL,GAAkB,CAHlB,GAIA,SAJA,GAKAM,IAAI,CAACoD,MAAL,KAAgB,GALhB,GAMA,OANA,GAOA,KAAK1D,UAAL,GAAkB,EAPlB,GAQA,KATF;AAUD;;AACDsD,IAAAA,MAAM,CAACf,SAAP,GAAmB,YAAY,KAAKtD,KAAL,CAAW4B,GAAvB,GAA6B,MAAhD;AAEA,wBACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA,6BAEA;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,gCACE;AAAK,UAAA,GAAG,EAAE8C,IAAV;AAAgB,UAAA,SAAS,EAAC,UAA1B;AAAqC,UAAA,GAAG,EAAC;AAAzC;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA,2CACO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADP;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAKE;AACE,UAAA,SAAS,EAAC,UADZ;AAEE,UAAA,IAAI,EAAC,qBAFP;AAGE,UAAA,MAAM,EAAC,QAHT;AAIE,UAAA,GAAG,EAAC,qBAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA,YADF;AAoBD;;AArJ2B;;AAyJ9B,eAAe7E,KAAf","sourcesContent":["import React, { Component } from 'react';\nimport {Link} from 'react-router-dom';\nimport { NavLink } from 'react-router-dom';\nimport Button from 'react-bootstrap/Button';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Image from 'react-bootstrap/Image';\nimport Container from 'react-bootstrap/Container';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport '../App.css';\nimport './knob1n2.css';\nimport logo from '../logo.svg';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faCaretUp,\n  faCaretDown,\n  faCaretLeft,\n  faCaretRight,\n  faTimesCircle,\n  faCompass,\n  faCode,\n  faCodeBranch,\n  faArchive,\n  faExternalLinkAlt,\n  faEllipsisH,\n} from '@fortawesome/free-solid-svg-icons';\n\n\nclass Knob2 extends Component {\n\n  state = {\n\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.fullAngle = props.degrees;\n    this.startAngle = (360 - props.degrees) / 2;\n    this.endAngle = this.startAngle + props.degrees;\n    this.margin = props.size * 0.15;\n    this.currentDeg = Math.floor(\n      this.convertRange(\n        props.min,\n        props.max,\n        this.startAngle,\n        this.endAngle,\n        props.value\n      )\n    );\n    this.state = { deg: this.currentDeg };\n  }\n\n  componentDidUpdate() {\n  }\n\n  componentDidMount() {\n\n  }\n\n  componentWillUnmount() {\n\n  }\n\n  startDrag = e => {\n    e.preventDefault();\n    const knob = e.target.getBoundingClientRect();\n    const pts = {\n      x: knob.left + knob.width / 2,\n      y: knob.top + knob.height / 2\n    };\n    const moveHandler = e => {\n      this.currentDeg = this.getDeg(e.clientX, e.clientY, pts);\n      if (this.currentDeg === this.startAngle) this.currentDeg--;\n      let newValue = Math.floor(\n        this.convertRange(\n          this.startAngle,\n          this.endAngle,\n          this.props.min,\n          this.props.max,\n          this.currentDeg\n        )\n      );\n      this.setState({ deg: this.currentDeg });\n      this.props.onChange(newValue);\n    };\n    document.addEventListener(\"mousemove\", moveHandler);\n    document.addEventListener(\"mouseup\", e => {\n      document.removeEventListener(\"mousemove\", moveHandler);\n    });\n  };\n\n  getDeg = (cX, cY, pts) => {\n    const x = cX - pts.x;\n    const y = cY - pts.y;\n    let deg = Math.atan(y / x) * 180 / Math.PI;\n    if ((x < 0 && y >= 0) || (x < 0 && y < 0)) {\n      deg += 90;\n    } else {\n      deg += 270;\n    }\n    let finalDeg = Math.min(Math.max(this.startAngle, deg), this.endAngle);\n    console.log('foo',finalDeg)\n    return finalDeg;\n  };\n\n  convertRange = (oldMin, oldMax, newMin, newMax, oldValue) => {\n    return (oldValue - oldMin) * (newMax - newMin) / (oldMax - oldMin) + newMin;\n  };\n\n  renderTicks = () => {\n    let ticks = [];\n    const incr = this.fullAngle / this.props.numTicks;\n    const size = this.margin + this.props.size / 2;\n    for (let deg = this.startAngle; deg <= this.endAngle; deg += incr) {\n      const tick = {\n        deg: deg,\n        tickStyle: {\n          height: size + 10,\n          left: size - 1,\n          top: size + 2,\n          transform: \"rotate(\" + deg + \"deg)\",\n          transformOrigin: \"top\"\n        }\n      };\n      ticks.push(tick);\n    }\n    return ticks;\n  };\n\n  dcpy = o => {\n    return JSON.parse(JSON.stringify(o));\n  };\n\n  render() {\n\n    let kStyle = {\n      width: this.props.size,\n      height: this.props.size\n    };\n    let iStyle = this.dcpy(kStyle);\n    let oStyle = this.dcpy(kStyle);\n    oStyle.margin = this.margin;\n    if (this.props.color) {\n      oStyle.backgroundImage =\n        \"radial-gradient(100% 70%,hsl(210, \" +\n        this.currentDeg +\n        \"%, \" +\n        this.currentDeg / 5 +\n        \"%),hsl(\" +\n        Math.random() * 100 +\n        \",20%,\" +\n        this.currentDeg / 36 +\n        \"%))\";\n    }\n    iStyle.transform = \"rotate(\" + this.state.deg + \"deg)\";\n\n    return (\n      <div className=\"KnobBoxTop\">\n\n      <div className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>\n          Edit <code>src/App.js</code> and save to reload.\n        </p>\n        <a\n          className=\"App-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Learn Reacttttt\n        </a>\n      </div>\n\n      </div>\n    )\n  }\n\n}\n\nexport default Knob2;\n"]},"metadata":{},"sourceType":"module"}