{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/pedrojacob/Downloads/AMR/websites/astroNatalKnobs/frontend/src/components/knob4.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { NavLink } from 'react-router-dom';\nimport { Knob } from \"react-rotary-knob\";\nimport Button from 'react-bootstrap/Button';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Image from 'react-bootstrap/Image';\nimport Container from 'react-bootstrap/Container';\nimport ListGroup from 'react-bootstrap/ListGroup'; // import '../App.css';\n\nimport './knob4.css';\nimport logo from \"../logo.svg\";\nimport ring1 from '../assets/img/ring1.png';\nimport ring2 from '../assets/img/ring2.png';\nimport ring3 from '../assets/img/ring3.png';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCaretUp, faCaretDown, faCaretLeft, faCaretRight, faTimesCircle, faCompass, faCode, faCodeBranch, faArchive, faExternalLinkAlt, faEllipsisH } from '@fortawesome/free-solid-svg-icons';\nimport Controls from './controls';\n\nclass Knob4 extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      rings: [1, 2, 3],\n      selectedRing: 1,\n      rot1: 0,\n      rot2: 0,\n      rot3: 0,\n      currentRot: null,\n      ringClass1: 'mainKnob',\n      ringClass2: 'mainKnob',\n      ringClass3: 'mainKnob'\n    };\n\n    this.controlsInput = args => {\n      console.log('controlsInput', args);\n\n      if (args.type === 'select') {\n        this.selectRing(args.value);\n      } else if (args.type === 'rotate') {\n        this.rotateRing(args.value);\n      }\n    };\n\n    this.selectRing = args => {\n      console.log('selecting ring', args);\n      let currentRing = this.state.selectedRing;\n\n      if (args === 'next') {\n        if (currentRing === 3) {\n          this.setState({\n            selectedRing: 1\n          });\n        } else {\n          currentRing = currentRing + 1;\n          this.setState({\n            selectedRing: currentRing\n          });\n        }\n      }\n\n      if (args === 'prev') {\n        if (currentRing === 1) {\n          this.setState({\n            selectedRing: 3\n          });\n        } else {\n          currentRing = currentRing - 1;\n          this.setState({\n            selectedRing: currentRing\n          });\n        }\n      }\n\n      this.updateCurrentRot(); // this.resetHighlights();\n      //\n      // if (this.state.selectedRing === 1) {\n      //   this.setState({\n      //     ringClass1: 'mainKnob borderedRing'\n      //   })\n      // }\n      // if (this.state.selectedRing === 2) {\n      //   this.setState({\n      //     ringClass2: 'mainKnob borderedRing'\n      //   })\n      // }\n      // if (this.state.selectedRing === 3) {\n      //   this.setState({\n      //     ringClass3: 'mainKnob borderedRing'\n      //   })\n      // }\n      //\n      // console.log('roop',this.state.selectedRing,this.state.ringClass1,this.state.ringClass2,this.state.ringClass3);\n    };\n\n    this.resetHighlights = () => {\n      this.setState({\n        ringClass1: 'mainKnob',\n        ringClass2: 'mainKnob',\n        ringClass3: 'mainKnob'\n      });\n      console.log('coop', this.state.selectedRing, this.state.ringClass1, this.state.ringClass2, this.state.ringClass3);\n    };\n\n    this.updateCurrentRot = () => {\n      if (this.state.selectedRing === 1) {\n        this.setState({\n          currentRot: this.state.rot1\n        });\n      }\n\n      if (this.state.selectedRing === 2) {\n        this.setState({\n          currentRot: this.state.rot2\n        });\n      }\n\n      if (this.state.selectedRing === 3) {\n        this.setState({\n          currentRot: this.state.rot3\n        });\n      }\n    };\n\n    this.rotateRing = args => {\n      console.log('rotating ring', args);\n\n      if (args === 'right') {\n        let newRot;\n\n        if (this.state.selectedRing === 1) {\n          newRot = this.state.rot1 + 30;\n\n          if (newRot === 390) {\n            newRot = 30;\n          }\n\n          this.setState({\n            rot1: newRot\n          });\n        }\n\n        if (this.state.selectedRing === 2) {\n          newRot = this.state.rot2 + 15;\n\n          if (newRot === 390) {\n            newRot = 30;\n          }\n\n          this.setState({\n            rot2: newRot\n          });\n        }\n\n        if (this.state.selectedRing === 3) {\n          newRot = this.state.rot3 + 10;\n\n          if (newRot === 390) {\n            newRot = 30;\n          }\n\n          this.setState({\n            rot3: newRot\n          });\n        }\n\n        this.updateCurrentRot();\n        this.drawRotated(newRot);\n      }\n\n      if (args === 'left') {\n        let newRot;\n\n        if (this.state.selectedRing === 1) {\n          newRot = this.state.rot1 - 30;\n\n          if (newRot === 0) {\n            newRot = 360;\n          }\n\n          this.setState({\n            rot1: newRot\n          });\n        }\n\n        if (this.state.selectedRing === 2) {\n          newRot = this.state.rot2 - 15;\n\n          if (newRot === 0) {\n            newRot = 360;\n          }\n\n          this.setState({\n            rot2: newRot\n          });\n        }\n\n        if (this.state.selectedRing === 3) {\n          newRot = this.state.rot3 - 10;\n\n          if (newRot === 0) {\n            newRot = 360;\n          }\n\n          this.setState({\n            rot3: newRot\n          });\n        }\n\n        this.updateCurrentRot();\n        this.drawRotated(newRot);\n      }\n    };\n\n    this.drawRotated = degrees => {\n      console.log('drawing rotated', degrees, this.state.selectedRing); //select canvas here w/ state selctedRing\n\n      const canvas = this['canvasRef' + this.state.selectedRing + ''].current;\n      const context = canvas.getContext('2d');\n      const image = this.refs['image' + this.state.selectedRing];\n      context.clearRect(0, 0, canvas.width, canvas.height);\n      context.save();\n      context.translate(canvas.width / 2, canvas.height / 2);\n      context.rotate(degrees * Math.PI / 180);\n      context.drawImage(image, -image.width / 2, -image.width / 2);\n      context.restore(); // this.updateCurrentRot();\n    };\n\n    this.rot = this.state.rot;\n    this.canvasRef1 = /*#__PURE__*/React.createRef();\n    this.canvasRef2 = /*#__PURE__*/React.createRef();\n    this.canvasRef3 = /*#__PURE__*/React.createRef();\n  }\n\n  componentDidUpdate() {\n    console.log('bazz');\n  }\n\n  componentDidMount() {\n    console.log('roar', this.refs.image3);\n    document.addEventListener(\"keypress\", e => {\n      console.log('gotcha', e.key);\n    });\n    this.setState({\n      currentRot: 0\n    });\n    const canvas1 = this.canvasRef1.current;\n    const canvas2 = this.canvasRef2.current;\n    const canvas3 = this.canvasRef3.current;\n    const context1 = canvas1.getContext('2d');\n    const context2 = canvas2.getContext('2d');\n    const context3 = canvas3.getContext('2d');\n    const img1 = this.refs.image1;\n    const img2 = this.refs.image2;\n    const img3 = this.refs.image3;\n\n    img3.onload = function () {\n      context1.drawImage(img1, canvas1.width / 2 - img1.width / 2, canvas1.height / 2 - img1.width / 2);\n      context2.drawImage(img2, canvas2.width / 2 - img2.width / 2, canvas2.height / 2 - img2.width / 2);\n      context3.drawImage(img3, canvas3.width / 2 - img3.width / 2, canvas3.height / 2 - img3.width / 2);\n    }; // context1.drawImage(img1,canvas1.width/2-img1.width/2,canvas1.height/2-img1.width/2);\n    // context2.drawImage(img2,canvas2.width/2-img2.width/2,canvas2.height/2-img2.width/2);\n    // context3.drawImage(img3,canvas3.width/2-img3.width/2,canvas3.height/2-img3.width/2);\n\n  }\n\n  componentWillUnmount() {}\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"KnobBoxTop\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"canvasBox\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pointerBox\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ringInfoDisplay\",\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"ringInfoList\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"ringInfoText\",\n                  children: [\"Selected Ring: \", this.state.selectedRing, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"ringInfoText\",\n                  children: [\"Ring Rotation: \", this.state.currentRot]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faCaretDown,\n            className: \"pointerIcon\",\n            size: \"5x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"canvasBox2\",\n          children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n            width: \"525\",\n            height: \"525\",\n            ref: this.canvasRef3,\n            className: \"canvas3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n            width: \"425\",\n            height: \"425\",\n            ref: this.canvasRef2,\n            className: \"canvas2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n            width: \"325\",\n            height: \"325\",\n            ref: this.canvasRef1,\n            className: \"canvas1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"controlsBox\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: ring1,\n            className: this.state.ringClass1,\n            ref: \"image1\",\n            alt: \"logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: ring2,\n            className: this.state.ringClass2,\n            ref: \"image2\",\n            alt: \"logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: ring3,\n            className: this.state.ringClass3,\n            ref: \"image3\",\n            alt: \"logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Controls, {\n            controlsInput: this.controlsInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default Knob4;","map":{"version":3,"sources":["/Users/pedrojacob/Downloads/AMR/websites/astroNatalKnobs/frontend/src/components/knob4.js"],"names":["React","Component","Link","NavLink","Knob","Button","Row","Col","Image","Container","ListGroup","ring1","ring2","ring3","FontAwesomeIcon","faCaretUp","faCaretDown","faCaretLeft","faCaretRight","faTimesCircle","faCompass","faCode","faCodeBranch","faArchive","faExternalLinkAlt","faEllipsisH","Controls","Knob4","constructor","props","state","rings","selectedRing","rot1","rot2","rot3","currentRot","ringClass1","ringClass2","ringClass3","controlsInput","args","console","log","type","selectRing","value","rotateRing","currentRing","setState","updateCurrentRot","resetHighlights","newRot","drawRotated","degrees","canvas","current","context","getContext","image","refs","clearRect","width","height","save","translate","rotate","Math","PI","drawImage","restore","rot","canvasRef1","createRef","canvasRef2","canvasRef3","componentDidUpdate","componentDidMount","image3","document","addEventListener","e","key","canvas1","canvas2","canvas3","context1","context2","context3","img1","image1","img2","image2","img3","onload","componentWillUnmount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Link} from 'react-router-dom';\nimport { NavLink } from 'react-router-dom';\nimport { Knob } from \"react-rotary-knob\";\nimport Button from 'react-bootstrap/Button';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Image from 'react-bootstrap/Image';\nimport Container from 'react-bootstrap/Container';\nimport ListGroup from 'react-bootstrap/ListGroup';\n// import '../App.css';\nimport './knob4.css';\nimport logo from '../logo.svg';\nimport ring1 from '../assets/img/ring1.png'\nimport ring2 from '../assets/img/ring2.png'\nimport ring3 from '../assets/img/ring3.png'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faCaretUp,\n  faCaretDown,\n  faCaretLeft,\n  faCaretRight,\n  faTimesCircle,\n  faCompass,\n  faCode,\n  faCodeBranch,\n  faArchive,\n  faExternalLinkAlt,\n  faEllipsisH,\n} from '@fortawesome/free-solid-svg-icons';\n\nimport Controls from './controls'\n\n\nclass Knob4 extends Component {\n\n  state = {\n    rings: [1,2,3],\n    selectedRing: 1,\n    rot1: 0,\n    rot2: 0,\n    rot3: 0,\n    currentRot: null,\n    ringClass1: 'mainKnob',\n    ringClass2: 'mainKnob',\n    ringClass3: 'mainKnob',\n  }\n\n  constructor(props) {\n    super(props);\n    this.rot = this.state.rot;\n    this.canvasRef1 = React.createRef();\n    this.canvasRef2 = React.createRef();\n    this.canvasRef3 = React.createRef();\n  }\n\n  componentDidUpdate() {\n    console.log('bazz');\n\n\n\n  }\n\n  componentDidMount() {\n    console.log('roar',this.refs.image3);\n    document.addEventListener(\"keypress\", e => {\n      console.log('gotcha',e.key);\n    });\n\n    this.setState({\n      currentRot: 0,\n    })\n\n    const canvas1 = this.canvasRef1.current;\n    const canvas2 = this.canvasRef2.current;\n    const canvas3 = this.canvasRef3.current;\n    const context1 = canvas1.getContext('2d');\n    const context2 = canvas2.getContext('2d');\n    const context3 = canvas3.getContext('2d');\n    const img1 = this.refs.image1;\n    const img2 = this.refs.image2;\n    const img3 = this.refs.image3;\n\n    img3.onload=function(){\n      context1.drawImage(img1,canvas1.width/2-img1.width/2,canvas1.height/2-img1.width/2);\n      context2.drawImage(img2,canvas2.width/2-img2.width/2,canvas2.height/2-img2.width/2);\n      context3.drawImage(img3,canvas3.width/2-img3.width/2,canvas3.height/2-img3.width/2);\n    }\n\n    // context1.drawImage(img1,canvas1.width/2-img1.width/2,canvas1.height/2-img1.width/2);\n    // context2.drawImage(img2,canvas2.width/2-img2.width/2,canvas2.height/2-img2.width/2);\n    // context3.drawImage(img3,canvas3.width/2-img3.width/2,canvas3.height/2-img3.width/2);\n\n  }\n\n  componentWillUnmount() {\n\n  }\n\n  controlsInput = (args) => {\n    console.log('controlsInput',args);\n    if (args.type === 'select') {\n      this.selectRing(args.value);\n    } else if (args.type === 'rotate') {\n      this.rotateRing(args.value)\n    }\n  }\n\n  selectRing = (args) => {\n    console.log('selecting ring',args);\n    let currentRing = this.state.selectedRing;\n\n    if (args === 'next') {\n      if ( currentRing === 3 ) {\n        this.setState({\n          selectedRing: 1,\n        })\n      } else {\n        currentRing = currentRing + 1;\n        this.setState({\n          selectedRing: currentRing,\n        })\n      }\n    }\n\n    if (args === 'prev') {\n      if ( currentRing === 1 ) {\n        this.setState({\n          selectedRing: 3,\n        })\n      } else {\n        currentRing = currentRing - 1;\n        this.setState({\n          selectedRing: currentRing,\n        })\n      }\n    }\n\n    this.updateCurrentRot();\n\n    // this.resetHighlights();\n    //\n    // if (this.state.selectedRing === 1) {\n    //   this.setState({\n    //     ringClass1: 'mainKnob borderedRing'\n    //   })\n    // }\n    // if (this.state.selectedRing === 2) {\n    //   this.setState({\n    //     ringClass2: 'mainKnob borderedRing'\n    //   })\n    // }\n    // if (this.state.selectedRing === 3) {\n    //   this.setState({\n    //     ringClass3: 'mainKnob borderedRing'\n    //   })\n    // }\n    //\n    // console.log('roop',this.state.selectedRing,this.state.ringClass1,this.state.ringClass2,this.state.ringClass3);\n\n  }\n\n  resetHighlights = () => {\n    this.setState({\n      ringClass1: 'mainKnob',\n      ringClass2: 'mainKnob',\n      ringClass3: 'mainKnob',\n    })\n    console.log('coop',this.state.selectedRing,this.state.ringClass1,this.state.ringClass2,this.state.ringClass3);\n  }\n\n  updateCurrentRot = () => {\n\n    if (this.state.selectedRing === 1) {\n      this.setState({\n        currentRot: this.state.rot1\n      })\n    }\n    if (this.state.selectedRing === 2) {\n      this.setState({\n        currentRot: this.state.rot2\n      })\n    }\n    if (this.state.selectedRing === 3) {\n      this.setState({\n        currentRot: this.state.rot3\n      })\n    }\n\n  }\n\n  rotateRing = (args) => {\n    console.log('rotating ring',args);\n    if (args === 'right') {\n      let newRot;\n      if (this.state.selectedRing === 1) {\n        newRot = this.state.rot1+30;\n        if (newRot === 390 ) {\n          newRot = 30;\n        }\n        this.setState({\n          rot1: newRot,\n        })\n      }\n      if (this.state.selectedRing === 2) {\n        newRot = this.state.rot2+15;\n        if (newRot === 390 ) {\n          newRot = 30;\n        }\n        this.setState({\n          rot2: newRot,\n        })\n      }\n      if (this.state.selectedRing === 3) {\n        newRot = this.state.rot3+10;\n        if (newRot === 390 ) {\n          newRot = 30;\n        }\n        this.setState({\n          rot3: newRot,\n        })\n      }\n\n      this.updateCurrentRot();\n      this.drawRotated(newRot)\n    }\n    if (args === 'left') {\n      let newRot;\n      if (this.state.selectedRing === 1) {\n        newRot = this.state.rot1-30;\n        if (newRot === 0) {\n          newRot = 360;\n        }\n        this.setState({\n          rot1: newRot,\n        })\n      }\n      if (this.state.selectedRing === 2) {\n        newRot = this.state.rot2-15;\n        if (newRot === 0) {\n          newRot = 360;\n        }\n        this.setState({\n          rot2: newRot,\n        })\n      }\n      if (this.state.selectedRing === 3) {\n        newRot = this.state.rot3-10;\n        if (newRot === 0) {\n          newRot = 360;\n        }\n        this.setState({\n          rot3: newRot,\n        })\n      }\n\n      this.updateCurrentRot();\n      this.drawRotated(newRot)\n    }\n\n\n  }\n\n  drawRotated = (degrees) => {\n    console.log('drawing rotated',degrees,this.state.selectedRing)\n    //select canvas here w/ state selctedRing\n    const canvas = this.['canvasRef'+this.state.selectedRing+''].current;\n    const context = canvas.getContext('2d');\n    const image = this.refs.['image'+this.state.selectedRing];\n\n    context.clearRect(0,0,canvas.width,canvas.height);\n    context.save();\n    context.translate(canvas.width/2,canvas.height/2);\n    context.rotate(degrees*Math.PI/180);\n    context.drawImage(image,-image.width/2,-image.width/2);\n    context.restore();\n\n    // this.updateCurrentRot();\n}\n\n\n  render() {\n\n    return (\n\n        <div className=\"KnobBoxTop\">\n\n          <div className=\"canvasBox\">\n            <div className=\"pointerBox\">\n              <div className=\"ringInfoDisplay\">\n                <ul className=\"ringInfoList\">\n                  <li>\n                    <p className=\"ringInfoText\">Selected Ring: {this.state.selectedRing} </p>\n                  </li>\n                  <li>\n                    <p className=\"ringInfoText\">Ring Rotation: {this.state.currentRot}</p>\n                  </li>\n                </ul>\n              </div>\n              <FontAwesomeIcon icon={faCaretDown} className=\"pointerIcon\" size=\"5x\"/>\n            </div>\n\n            <div className=\"canvasBox2\">\n              <canvas\n                width=\"525\"\n                height=\"525\"\n                ref={this.canvasRef3}\n                className=\"canvas3\"\n              />\n              <canvas\n                width=\"425\"\n                height=\"425\"\n                ref={this.canvasRef2}\n                className=\"canvas2\"\n              />\n              <canvas\n                width=\"325\"\n                height=\"325\"\n                ref={this.canvasRef1}\n                className=\"canvas1\"\n              />\n            </div>\n\n\n            <div className=\"controlsBox\">\n              <img src={ring1} className={this.state.ringClass1} ref=\"image1\" alt=\"logo\" />\n              <img src={ring2} className={this.state.ringClass2} ref=\"image2\" alt=\"logo\" />\n              <img src={ring3} className={this.state.ringClass3} ref=\"image3\" alt=\"logo\" />\n              <Controls\n                controlsInput={this.controlsInput}\n              />\n            </div>\n\n          </div>\n\n        </div>\n\n    )\n  }\n\n}\n\nexport default Knob4;\n"]},"metadata":{},"sourceType":"module"}