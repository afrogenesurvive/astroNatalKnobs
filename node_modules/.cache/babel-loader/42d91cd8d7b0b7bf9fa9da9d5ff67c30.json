{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/pedrojacob/Downloads/AMR/websites/astroNatalKnobs/frontend/src/components/knob2.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { NavLink } from 'react-router-dom';\nimport Button from 'react-bootstrap/Button';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Image from 'react-bootstrap/Image';\nimport Container from 'react-bootstrap/Container';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport '../App.css';\nimport './knob2n3.css';\nimport logo from \"../logo.svg\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCaretUp, faCaretDown, faCaretLeft, faCaretRight, faTimesCircle, faCompass, faCode, faCodeBranch, faArchive, faExternalLinkAlt, faEllipsisH } from '@fortawesome/free-solid-svg-icons';\n\nclass Knob2 extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n\n    this.startDrag = e => {\n      e.preventDefault();\n      const knob = e.target.getBoundingClientRect();\n      const pts = {\n        x: knob.left + knob.width / 2,\n        y: knob.top + knob.height / 2\n      };\n\n      const moveHandler = e => {\n        this.currentDeg = this.getDeg(e.clientX, e.clientY, pts);\n        if (this.currentDeg === this.startAngle) this.currentDeg--;\n        let newValue = Math.floor(this.convertRange(this.startAngle, this.endAngle, this.props.min, this.props.max, this.currentDeg));\n        this.setState({\n          deg: this.currentDeg\n        }); // this.props.onChange(newValue);\n      };\n\n      document.addEventListener(\"mousemove\", moveHandler);\n      document.addEventListener(\"mouseup\", e => {\n        document.removeEventListener(\"mousemove\", moveHandler);\n      });\n    };\n\n    this.getDeg = (cX, cY, pts) => {\n      const x = cX - pts.x;\n      const y = cY - pts.y;\n      let deg = Math.atan(y / x) * 180 / Math.PI;\n\n      if (x < 0 && y >= 0 || x < 0 && y < 0) {\n        deg += 90;\n      } else {\n        deg += 270;\n      }\n\n      let finalDeg = Math.min(Math.max(this.startAngle, deg), this.endAngle);\n      console.log('foo', finalDeg);\n      return finalDeg;\n    };\n\n    this.convertRange = (oldMin, oldMax, newMin, newMax, oldValue) => {\n      return (oldValue - oldMin) * (newMax - newMin) / (oldMax - oldMin) + newMin;\n    };\n\n    this.renderTicks = () => {\n      let ticks = [];\n      const incr = this.fullAngle / this.props.numTicks;\n      const size = this.margin + this.props.size / 2;\n\n      for (let deg = this.startAngle; deg <= this.endAngle; deg += incr) {\n        const tick = {\n          deg: deg,\n          tickStyle: {\n            height: size + 10,\n            left: size - 1,\n            top: size + 2,\n            transform: \"rotate(\" + deg + \"deg)\",\n            transformOrigin: \"top\"\n          }\n        };\n        ticks.push(tick);\n      }\n\n      return ticks;\n    };\n\n    this.dcpy = o => {\n      return JSON.parse(JSON.stringify(o));\n    };\n\n    this.fullAngle = props.degrees;\n    this.startAngle = (360 - props.degrees) / 2;\n    this.endAngle = this.startAngle + props.degrees;\n    this.margin = props.size * 0.15;\n    this.currentDeg = Math.floor(this.convertRange(props.min, props.max, this.startAngle, this.endAngle, props.value));\n    this.state = {\n      deg: this.currentDeg\n    };\n    this.fullAngle2 = props.degrees2;\n    this.startAngle2 = (360 - props.degrees2) / 2;\n    this.endAngle2 = this.startAngle2 + props.degrees2;\n    this.margin2 = props.size2 * 0.15;\n    this.currentDeg2 = Math.floor(this.convertRange(props.min2, props.max2, this.startAngle2, this.endAngle2, props.value2));\n    this.state = {\n      deg2: this.currentDeg2\n    };\n  }\n\n  componentDidUpdate() {}\n\n  componentDidMount() {}\n\n  componentWillUnmount() {}\n\n  render() {\n    let kStyle = {\n      width: this.props.size,\n      height: this.props.size\n    };\n    let iStyle = this.dcpy(kStyle);\n    let oStyle = this.dcpy(kStyle);\n    oStyle.margin = this.margin;\n\n    if (this.props.color) {\n      oStyle.backgroundImage = \"radial-gradient(100% 70%,hsl(210, \" + this.currentDeg + \"%, \" + this.currentDeg / 5 + \"%),hsl(\" + Math.random() * 100 + \",20%,\" + this.currentDeg / 36 + \"%))\";\n    }\n\n    iStyle.transform = \"rotate(\" + this.state.deg + \"deg)\";\n    let kStyle2 = {\n      width2: this.props.size2,\n      height2: this.props.size2\n    };\n    let iStyle2 = this.dcpy(kStyle2);\n    let oStyle2 = this.dcpy(kStyle2);\n    oStyle2.margin = this.margin2;\n\n    if (this.props.color2) {\n      oStyle2.backgroundImage = \"radial-gradient(100% 70%,hsl(210, \" + this.currentDeg2 + \"%, \" + this.currentDeg2 / 5 + \"%),hsl(\" + Math.random() * 100 + \",20%,\" + this.currentDeg2 / 36 + \"%))\";\n    }\n\n    iStyle2.transform = \"rotate(\" + this.state.deg2 + \"deg)\";\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"KnobBoxTop\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"knob 2ndKnob\",\n          style: kStyle2,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ticks\",\n            children: this.props.numTicks2 ? this.renderTicks2().map((tick, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tick\" + (tick.deg <= this.currentDeg2 ? \" active\" : \"\"),\n              style: tick.tickStyle\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 19\n            }, this)) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"knob outer\",\n            style: oStyle2,\n            onMouseDown: this.startDrag,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"knob inner\",\n              style: iStyle2,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grip\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"knob topKnob\",\n          style: kStyle,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ticks\",\n            children: this.props.numTicks ? this.renderTicks().map((tick, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tick\" + (tick.deg <= this.currentDeg ? \" active\" : \"\"),\n              style: tick.tickStyle\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 19\n            }, this)) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"knob outer\",\n            style: oStyle,\n            onMouseDown: this.startDrag,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"knob inner\",\n              style: iStyle,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grip\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Knob2;","map":{"version":3,"sources":["/Users/pedrojacob/Downloads/AMR/websites/astroNatalKnobs/frontend/src/components/knob2.js"],"names":["React","Component","Link","NavLink","Button","Row","Col","Image","Container","ListGroup","FontAwesomeIcon","faCaretUp","faCaretDown","faCaretLeft","faCaretRight","faTimesCircle","faCompass","faCode","faCodeBranch","faArchive","faExternalLinkAlt","faEllipsisH","Knob2","constructor","props","state","startDrag","e","preventDefault","knob","target","getBoundingClientRect","pts","x","left","width","y","top","height","moveHandler","currentDeg","getDeg","clientX","clientY","startAngle","newValue","Math","floor","convertRange","endAngle","min","max","setState","deg","document","addEventListener","removeEventListener","cX","cY","atan","PI","finalDeg","console","log","oldMin","oldMax","newMin","newMax","oldValue","renderTicks","ticks","incr","fullAngle","numTicks","size","margin","tick","tickStyle","transform","transformOrigin","push","dcpy","o","JSON","parse","stringify","degrees","value","fullAngle2","degrees2","startAngle2","endAngle2","margin2","size2","currentDeg2","min2","max2","value2","deg2","componentDidUpdate","componentDidMount","componentWillUnmount","render","kStyle","iStyle","oStyle","color","backgroundImage","random","kStyle2","width2","height2","iStyle2","oStyle2","color2","numTicks2","renderTicks2","map","i"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Link} from 'react-router-dom';\nimport { NavLink } from 'react-router-dom';\nimport Button from 'react-bootstrap/Button';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Image from 'react-bootstrap/Image';\nimport Container from 'react-bootstrap/Container';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport '../App.css';\nimport './knob2n3.css';\nimport logo from '../logo.svg';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faCaretUp,\n  faCaretDown,\n  faCaretLeft,\n  faCaretRight,\n  faTimesCircle,\n  faCompass,\n  faCode,\n  faCodeBranch,\n  faArchive,\n  faExternalLinkAlt,\n  faEllipsisH,\n} from '@fortawesome/free-solid-svg-icons';\n\n\nclass Knob2 extends Component {\n\n  state = {\n\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.fullAngle = props.degrees;\n    this.startAngle = (360 - props.degrees) / 2;\n    this.endAngle = this.startAngle + props.degrees;\n    this.margin = props.size * 0.15;\n    this.currentDeg = Math.floor(\n      this.convertRange(\n        props.min,\n        props.max,\n        this.startAngle,\n        this.endAngle,\n        props.value\n      )\n    );\n    this.state = { deg: this.currentDeg };\n\n\n    this.fullAngle2 = props.degrees2;\n    this.startAngle2 = (360 - props.degrees2) / 2;\n    this.endAngle2 = this.startAngle2 + props.degrees2;\n    this.margin2 = props.size2 * 0.15;\n    this.currentDeg2 = Math.floor(\n      this.convertRange(\n        props.min2,\n        props.max2,\n        this.startAngle2,\n        this.endAngle2,\n        props.value2\n      )\n    );\n    this.state = { deg2: this.currentDeg2 };\n  }\n\n  componentDidUpdate() {\n  }\n\n  componentDidMount() {\n\n  }\n\n  componentWillUnmount() {\n\n  }\n\n  startDrag = e => {\n    e.preventDefault();\n    const knob = e.target.getBoundingClientRect();\n    const pts = {\n      x: knob.left + knob.width / 2,\n      y: knob.top + knob.height / 2\n    };\n    const moveHandler = e => {\n      this.currentDeg = this.getDeg(e.clientX, e.clientY, pts);\n      if (this.currentDeg === this.startAngle) this.currentDeg--;\n      let newValue = Math.floor(\n        this.convertRange(\n          this.startAngle,\n          this.endAngle,\n          this.props.min,\n          this.props.max,\n          this.currentDeg\n        )\n      );\n      this.setState({ deg: this.currentDeg });\n      // this.props.onChange(newValue);\n    };\n    document.addEventListener(\"mousemove\", moveHandler);\n    document.addEventListener(\"mouseup\", e => {\n      document.removeEventListener(\"mousemove\", moveHandler);\n    });\n  };\n\n  getDeg = (cX, cY, pts) => {\n    const x = cX - pts.x;\n    const y = cY - pts.y;\n    let deg = Math.atan(y / x) * 180 / Math.PI;\n    if ((x < 0 && y >= 0) || (x < 0 && y < 0)) {\n      deg += 90;\n    } else {\n      deg += 270;\n    }\n    let finalDeg = Math.min(Math.max(this.startAngle, deg), this.endAngle);\n    console.log('foo',finalDeg)\n    return finalDeg;\n  };\n\n  convertRange = (oldMin, oldMax, newMin, newMax, oldValue) => {\n    return (oldValue - oldMin) * (newMax - newMin) / (oldMax - oldMin) + newMin;\n  };\n\n  renderTicks = () => {\n    let ticks = [];\n    const incr = this.fullAngle / this.props.numTicks;\n    const size = this.margin + this.props.size / 2;\n    for (let deg = this.startAngle; deg <= this.endAngle; deg += incr) {\n      const tick = {\n        deg: deg,\n        tickStyle: {\n          height: size + 10,\n          left: size - 1,\n          top: size + 2,\n          transform: \"rotate(\" + deg + \"deg)\",\n          transformOrigin: \"top\"\n        }\n      };\n      ticks.push(tick);\n    }\n    return ticks;\n  };\n\n  dcpy = o => {\n    return JSON.parse(JSON.stringify(o));\n  };\n\n  render() {\n\n    let kStyle = {\n      width: this.props.size,\n      height: this.props.size\n    };\n    let iStyle = this.dcpy(kStyle);\n    let oStyle = this.dcpy(kStyle);\n    oStyle.margin = this.margin;\n    if (this.props.color) {\n      oStyle.backgroundImage =\n        \"radial-gradient(100% 70%,hsl(210, \" +\n        this.currentDeg +\n        \"%, \" +\n        this.currentDeg / 5 +\n        \"%),hsl(\" +\n        Math.random() * 100 +\n        \",20%,\" +\n        this.currentDeg / 36 +\n        \"%))\";\n    }\n    iStyle.transform = \"rotate(\" + this.state.deg + \"deg)\";\n\n    let kStyle2 = {\n      width2: this.props.size2,\n      height2: this.props.size2\n    };\n    let iStyle2 = this.dcpy(kStyle2);\n    let oStyle2 = this.dcpy(kStyle2);\n    oStyle2.margin = this.margin2;\n    if (this.props.color2) {\n      oStyle2.backgroundImage =\n        \"radial-gradient(100% 70%,hsl(210, \" +\n        this.currentDeg2 +\n        \"%, \" +\n        this.currentDeg2 / 5 +\n        \"%),hsl(\" +\n        Math.random() * 100 +\n        \",20%,\" +\n        this.currentDeg2 / 36 +\n        \"%))\";\n    }\n    iStyle2.transform = \"rotate(\" + this.state.deg2 + \"deg)\";\n\n    return (\n      <div className=\"KnobBoxTop\">\n      <div className=\"App-header\">\n\n        <div className=\"knob 2ndKnob\" style={kStyle2}>\n          <div className=\"ticks\">\n            {this.props.numTicks2\n              ? this.renderTicks2().map((tick, i) => (\n                  <div\n                    key={i}\n                    className={\n                      \"tick\" + (tick.deg <= this.currentDeg2 ? \" active\" : \"\")\n                    }\n                    style={tick.tickStyle}\n                  />\n                ))\n              : null}\n          </div>\n          <div className=\"knob outer\" style={oStyle2} onMouseDown={this.startDrag}>\n            <div className=\"knob inner\" style={iStyle2}>\n              <div className=\"grip\" />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"knob topKnob\" style={kStyle}>\n          <div className=\"ticks\">\n            {this.props.numTicks\n              ? this.renderTicks().map((tick, i) => (\n                  <div\n                    key={i}\n                    className={\n                      \"tick\" + (tick.deg <= this.currentDeg ? \" active\" : \"\")\n                    }\n                    style={tick.tickStyle}\n                  />\n                ))\n              : null}\n          </div>\n          <div className=\"knob outer\" style={oStyle} onMouseDown={this.startDrag}>\n            <div className=\"knob inner\" style={iStyle}>\n              <div className=\"grip\" />\n            </div>\n          </div>\n        </div>\n\n      </div>\n      </div>\n    )\n  }\n\n}\n\nexport default Knob2;\n"]},"metadata":{},"sourceType":"module"}