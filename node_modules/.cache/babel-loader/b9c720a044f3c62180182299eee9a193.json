{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/pedrojacob/Downloads/AMR/websites/astroNatalKnobs/frontend/src/components/knob4.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { NavLink } from 'react-router-dom';\nimport { Knob } from \"react-rotary-knob\";\nimport Button from 'react-bootstrap/Button';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Image from 'react-bootstrap/Image';\nimport Container from 'react-bootstrap/Container';\nimport ListGroup from 'react-bootstrap/ListGroup'; // import '../App.css';\n\nimport './knob4.css';\nimport logo from \"../logo.svg\";\nimport toast from '../assets/img/toast.png';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCaretUp, faCaretDown, faCaretLeft, faCaretRight, faTimesCircle, faCompass, faCode, faCodeBranch, faArchive, faExternalLinkAlt, faEllipsisH } from '@fortawesome/free-solid-svg-icons';\nimport Controls from './controls';\n\nclass Knob4 extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedRing: null,\n      rot: 0\n    };\n\n    this.controlsInput = args => {\n      console.log('controlsInput', args);\n\n      if (args.type === 'select') {\n        this.selectRing(args.value);\n      } else if (args.type === 'rotate') {\n        this.rotateRing(args.value);\n      }\n    };\n\n    this.selectRing = args => {\n      console.log('selecting ring', args);\n    };\n\n    this.rotateRing = args => {\n      console.log('rotating ring', args);\n\n      if (args === 'right') {\n        let newRot = this.state.rot + 30;\n        let newRotation = 'rotate(' + newRot + 'deg)';\n\n        if (newRot === 390) {\n          newRot = 0;\n        }\n\n        this.setState({\n          // rotClass: 'rotTwo'\n          rot: newRot // rotation: newRotation,\n\n        });\n        this.drawRotated(newRot);\n      }\n\n      if (args === 'left') {\n        let newRot = this.state.rot - 30;\n        let newRotation = 'rotate(' + newRot + 'deg)';\n        this.drawRotated(newRot);\n\n        if (newRot === 0) {\n          newRot = 360;\n        }\n\n        this.setState({\n          rot: newRot // rotation: newRotation,\n\n        });\n        this.drawRotated(newRot);\n      }\n    };\n\n    this.drawRotated = degrees => {\n      console.log('drawing rotated', degrees);\n      const canvas1 = this.canvasRef1.current;\n      const context = canvas1.getContext('2d');\n      const image = this.refs.image;\n      context.clearRect(0, 0, canvas1.width, canvas1.height);\n      context.save();\n      context.translate(canvas1.width / 2, canvas1.height / 2);\n      context.rotate(degrees * Math.PI / 180);\n      context.drawImage(image, -image.width / 2, -image.width / 2);\n      context.restore();\n    };\n\n    this.rot = this.state.rot;\n    this.canvasRef1 = /*#__PURE__*/React.createRef();\n  }\n\n  componentDidUpdate() {}\n\n  componentDidMount() {\n    document.addEventListener(\"keypress\", e => {\n      console.log('gotcha', e.key);\n    });\n    const canvas1 = this.canvasRef1.current;\n    const context = canvas1.getContext('2d');\n    const img = this.refs.image;\n\n    img.onload = () => {\n      // context.drawImage(img,0,0);\n      context.drawImage(img, canvas1.width / 2 - img.width / 2, canvas1.height / 2 - img.width / 2);\n    };\n  }\n\n  componentWillUnmount() {}\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"KnobBoxTop\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"canvasBox\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"canvasBox2\",\n          children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n            width: \"625\",\n            height: \"625\",\n            ref: this.canvasRef3,\n            className: \"canvas3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n            width: \"425\",\n            height: \"425\",\n            ref: this.canvasRef2,\n            className: \"canvas2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n            width: \"325\",\n            height: \"325\",\n            ref: this.canvasRef1,\n            className: \"canvas1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"controlsBox\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: toast,\n            className: \"mainKnob\",\n            ref: \"image\",\n            alt: \"logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(Controls, {\n            controlsInput: this.controlsInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default Knob4;","map":{"version":3,"sources":["/Users/pedrojacob/Downloads/AMR/websites/astroNatalKnobs/frontend/src/components/knob4.js"],"names":["React","Component","Link","NavLink","Knob","Button","Row","Col","Image","Container","ListGroup","toast","FontAwesomeIcon","faCaretUp","faCaretDown","faCaretLeft","faCaretRight","faTimesCircle","faCompass","faCode","faCodeBranch","faArchive","faExternalLinkAlt","faEllipsisH","Controls","Knob4","constructor","props","state","selectedRing","rot","controlsInput","args","console","log","type","selectRing","value","rotateRing","newRot","newRotation","setState","drawRotated","degrees","canvas1","canvasRef1","current","context","getContext","image","refs","clearRect","width","height","save","translate","rotate","Math","PI","drawImage","restore","createRef","componentDidUpdate","componentDidMount","document","addEventListener","e","key","img","onload","componentWillUnmount","render","canvasRef3","canvasRef2"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Link} from 'react-router-dom';\nimport { NavLink } from 'react-router-dom';\nimport { Knob } from \"react-rotary-knob\";\nimport Button from 'react-bootstrap/Button';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Image from 'react-bootstrap/Image';\nimport Container from 'react-bootstrap/Container';\nimport ListGroup from 'react-bootstrap/ListGroup';\n// import '../App.css';\nimport './knob4.css';\nimport logo from '../logo.svg';\nimport toast from '../assets/img/toast.png'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faCaretUp,\n  faCaretDown,\n  faCaretLeft,\n  faCaretRight,\n  faTimesCircle,\n  faCompass,\n  faCode,\n  faCodeBranch,\n  faArchive,\n  faExternalLinkAlt,\n  faEllipsisH,\n} from '@fortawesome/free-solid-svg-icons';\n\nimport Controls from './controls'\n\n\nclass Knob4 extends Component {\n\n  state = {\n    selectedRing: null,\n    rot: 0,\n  }\n\n  constructor(props) {\n    super(props);\n    this.rot = this.state.rot;\n    this.canvasRef1 = React.createRef();\n  }\n\n  componentDidUpdate() {\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"keypress\", e => {\n      console.log('gotcha',e.key);\n    });\n\n    const canvas1 = this.canvasRef1.current;\n    const context = canvas1.getContext('2d');\n    const img = this.refs.image;\n\n    img.onload = () => {\n      // context.drawImage(img,0,0);\n      context.drawImage(img,canvas1.width/2-img.width/2,canvas1.height/2-img.width/2);\n\n    }\n  }\n\n  componentWillUnmount() {\n\n  }\n\n  controlsInput = (args) => {\n    console.log('controlsInput',args);\n    if (args.type === 'select') {\n      this.selectRing(args.value);\n    } else if (args.type === 'rotate') {\n      this.rotateRing(args.value)\n    }\n  }\n\n  selectRing = (args) => {\n    console.log('selecting ring',args);\n  }\n\n  rotateRing = (args) => {\n    console.log('rotating ring',args);\n    if (args === 'right') {\n      let newRot = this.state.rot+30;\n      let newRotation = 'rotate('+newRot+'deg)';\n      if (newRot === 390 ) {\n        newRot = 0;\n      }\n      this.setState({\n        // rotClass: 'rotTwo'\n        rot: newRot,\n        // rotation: newRotation,\n      })\n      this.drawRotated(newRot)\n    }\n    if (args === 'left') {\n      let newRot = this.state.rot-30;\n      let newRotation = 'rotate('+newRot+'deg)';  this.drawRotated(newRot)\n      if (newRot === 0) {\n        newRot = 360;\n      }\n      this.setState({\n        rot: newRot,\n        // rotation: newRotation,\n      })\n      this.drawRotated(newRot)\n    }\n  }\n\n  drawRotated = (degrees) => {\n    console.log('drawing rotated',degrees)\n    const canvas1 = this.canvasRef1.current;\n    const context = canvas1.getContext('2d');\n    const image = this.refs.image;\n\n    context.clearRect(0,0,canvas1.width,canvas1.height);\n    context.save();\n    context.translate(canvas1.width/2,canvas1.height/2);\n    context.rotate(degrees*Math.PI/180);\n    context.drawImage(image,-image.width/2,-image.width/2);\n    context.restore();\n}\n\n\n  render() {\n\n    return (\n\n        <div className=\"KnobBoxTop\">\n\n          <div className=\"canvasBox\">\n            <div className=\"canvasBox2\">\n              <canvas\n                width=\"625\"\n                height=\"625\"\n                ref={this.canvasRef3}\n                className=\"canvas3\"\n              />\n              <canvas\n                width=\"425\"\n                height=\"425\"\n                ref={this.canvasRef2}\n                className=\"canvas2\"\n              />\n              <canvas\n                width=\"325\"\n                height=\"325\"\n                ref={this.canvasRef1}\n                className=\"canvas1\"\n              />\n            </div>\n\n\n            <div className=\"controlsBox\">\n                          <img src={toast} className='mainKnob' ref=\"image\" alt=\"logo\" />\n              <Controls\n                controlsInput={this.controlsInput}\n              />\n            </div>\n\n          </div>\n\n        </div>\n\n    )\n  }\n\n}\n\nexport default Knob4;\n"]},"metadata":{},"sourceType":"module"}